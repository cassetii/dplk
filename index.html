<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPLK Interactive Tool - Bank Sulselbar</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .tab-container {
            display: flex;
            background: #ecf0f1;
            border-bottom: 1px solid #bdc3c7;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            background: #ecf0f1;
            border: none;
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: white;
            color: #3498db;
            border-bottom: 3px solid #3498db;
        }

        .tab:hover {
            background: #d5dbdb;
        }

        .content {
            display: none;
            padding: 40px;
            min-height: 600px;
        }

        .content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .calculate-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
        }

        .result-container {
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            border: 2px solid #3498db;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #dee2e6;
            font-size: 1.1rem;
        }

        .result-item:last-child {
            border-bottom: none;
            font-size: 1.3rem;
            font-weight: bold;
            color: #27ae60;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .question-card {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
        }

        .question-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #2c3e50;
            font-weight: bold;
        }

        .option {
            display: block;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: #e8f4fd;
            border-color: #3498db;
        }

        .option.selected {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }

        .option.correct {
            background: #27ae60;
            color: white;
            border-color: #229954;
        }

        .option.wrong {
            background: #e74c3c;
            color: white;
            border-color: #c0392b;
        }

        .score-container {
            text-align: center;
            padding: 30px;
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            border-radius: 15px;
            margin-top: 30px;
        }

        .score-container h2 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .assessment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .assessment-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #ecf0f1;
            transition: all 0.3s ease;
        }

        .assessment-card:hover {
            border-color: #3498db;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .assessment-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #3498db, #2980b9);
            transition: width 0.5s ease;
        }

        .recommendation {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 25px;
        }

        .recommendation h3 {
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .share-btn {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }

        .gap-visualization {
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e74c3c;
        }

        .gap-bar {
            height: 40px;
            background: #ecf0f1;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            margin: 15px 0;
        }

        .gap-existing {
            height: 100%;
            background: #e74c3c;
            float: left;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .gap-needed {
            height: 100%;
            background: #f39c12;
            float: left;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .gap-dplk {
            height: 100%;
            background: #27ae60;
            float: left;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .tab {
                padding: 15px 10px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§® DPLK Interactive Tool</h1>
            <p>Hitung Kebutuhan Pensiun Anda & Test Pengetahuan Finansial</p>
        </div>

        <div class="tab-container">
            <button class="tab active" onclick="showTab('calculator')">ğŸ’° Kalkulator DPLK</button>
            <button class="tab" onclick="showTab('quiz')">ğŸ¯ Quiz Pensiun</button>
            <button class="tab" onclick="showTab('assessment')">ğŸ“Š Assessment</button>
        </div>

        <!-- Calculator Tab -->
        <div id="calculator" class="content active">
            <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
                ğŸ§® Kalkulator Simulasi DPLK Anda
            </h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: start;">
                <div>
                    <div class="form-group">
                        <label for="currentAge">ğŸ‚ Usia Saat Ini (tahun)</label>
                        <input type="number" id="currentAge" placeholder="Contoh: 25" min="18" max="65" value="25">
                    </div>

                    <div class="form-group">
                        <label for="retirementAge">ğŸ¯ Target Usia Pensiun (tahun)</label>
                        <select id="retirementAge">
                            <option value="55">55 tahun</option>
                            <option value="56">56 tahun</option>
                            <option value="57">57 tahun</option>
                            <option value="58">58 tahun</option>
                            <option value="60">60 tahun</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="currentSalary">ğŸ’µ Gaji Bulanan Saat Ini (Rp)</label>
                        <input type="number" id="currentSalary" placeholder="Contoh: 5000000" min="1000000" step="100000" value="5000000">
                    </div>

                    <div class="form-group">
                        <label for="monthlyContribution">ğŸ’³ Iuran DPLK Bulanan (Rp)</label>
                        <input type="number" id="monthlyContribution" placeholder="Minimal: 150000" min="150000" step="50000" value="150000">
                    </div>

                    <div class="form-group">
                        <label for="returnRate">ğŸ“ˆ Asumsi Return Tahunan (%)</label>
                        <select id="returnRate">
                            <option value="5">5% (Konservatif)</option>
                            <option value="6" selected>6% (Moderat)</option>
                            <option value="7">7% (Agresif)</option>
                            <option value="8">8% (Sangat Agresif)</option>
                        </select>
                    </div>

                    <button class="calculate-btn" onclick="calculateDPLK()">
                        ğŸ”¥ Hitung Simulasi Saya!
                    </button>
                </div>

                <div id="calculatorResults" style="display: none;">
                    <div class="result-container">
                        <h3 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">
                            ğŸ“Š Hasil Simulasi Anda
                        </h3>
                        
                        <div class="result-item">
                            <span>â±ï¸ Masa Investasi:</span>
                            <span id="investmentPeriod">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span>ğŸ’° Total Iuran Yang Dibayar:</span>
                            <span id="totalContribution">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span>ğŸš€ Hasil Investasi:</span>
                            <span id="investmentGain">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span>ğŸ’ Dana Pensiun Total:</span>
                            <span id="totalPension">-</span>
                        </div>

                        <div class="gap-visualization">
                            <h4 style="text-align: center; margin-bottom: 15px;">ğŸ“ˆ Visualisasi Gap TPP Anda</h4>
                            <div class="gap-bar">
                                <div class="gap-existing" id="gapExisting">29%</div>
                                <div class="gap-dplk" id="gapDPLK">-</div>
                                <div class="gap-needed" id="gapStill">-</div>
                            </div>
                            <p style="text-align: center; margin-top: 10px; font-size: 0.9rem;">
                                ğŸ”´ Program Existing &nbsp;&nbsp; ğŸŸ¢ DPLK Anda &nbsp;&nbsp; ğŸŸ  Masih Kurang
                            </p>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 20px;">
                        <button class="share-btn" onclick="shareResults()">ğŸ“¤ Share Hasil</button>
                        <button class="share-btn" onclick="downloadResults()">ğŸ’¾ Download PDF</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="content">
            <div class="quiz-container">
                <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
                    ğŸ¯ Quiz: Seberapa Siap Pengetahuan Pensiun Anda?
                </h2>

                <div id="quizQuestions">
                    <!-- Questions will be populated by JavaScript -->
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="calculate-btn" onclick="submitQuiz()" id="submitQuizBtn" style="display: none;">
                        ğŸ† Lihat Skor Saya!
                    </button>
                </div>

                <div id="quizResults" style="display: none;">
                    <!-- Results will be shown here -->
                </div>
            </div>
        </div>

        <!-- Assessment Tab -->
        <div id="assessment" class="content">
            <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
                ğŸ“Š Personal Financial Assessment
            </h2>

            <div class="assessment-grid">
                <div class="assessment-card">
                    <h3>ğŸ’³ Status Keuangan Saat Ini</h3>
                    <div class="form-group">
                        <label>Apakah Anda punya tabungan darurat?</label>
                        <select onchange="updateAssessment()">
                            <option value="0">Tidak ada</option>
                            <option value="25">1-3 bulan pengeluaran</option>
                            <option value="50">3-6 bulan pengeluaran</option>
                            <option value="75">6-12 bulan pengeluaran</option>
                            <option value="100">Lebih dari 12 bulan</option>
                        </select>
                    </div>
                </div>

                <div class="assessment-card">
                    <h3>ğŸ¯ Perencanaan Pensiun</h3>
                    <div class="form-group">
                        <label>Sudah mulai investasi untuk pensiun?</label>
                        <select onchange="updateAssessment()">
                            <option value="0">Belum sama sekali</option>
                            <option value="25">Baru planning</option>
                            <option value="50">Sudah mulai sedikit</option>
                            <option value="75">Rutin tapi belum optimal</option>
                            <option value="100">Sudah optimal dan rutin</option>
                        </select>
                    </div>
                </div>

                <div class="assessment-card">
                    <h3>ğŸ“š Pengetahuan Finansial</h3>
                    <div class="form-group">
                        <label>Pemahaman tentang investasi?</label>
                        <select onchange="updateAssessment()">
                            <option value="0">Tidak paham sama sekali</option>
                            <option value="25">Paham dasar</option>
                            <option value="50">Cukup paham</option>
                            <option value="75">Paham dengan baik</option>
                            <option value="100">Expert level</option>
                        </select>
                    </div>
                </div>

                <div class="assessment-card">
                    <h3>âš ï¸ Manajemen Risiko</h3>
                    <div class="form-group">
                        <label>Apakah Anda punya asuransi kesehatan?</label>
                        <select onchange="updateAssessment()">
                            <option value="0">Tidak ada</option>
                            <option value="50">Hanya BPJS</option>
                            <option value="75">BPJS + Asuransi Swasta</option>
                            <option value="100">Comprehensive coverage</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="assessmentResult" style="margin-top: 30px;">
                <div style="text-align: center;">
                    <h3>ğŸ¯ Skor Kesiapan Finansial Anda</h3>
                    <div class="progress-bar" style="max-width: 400px; margin: 20px auto;">
                        <div class="progress-fill" id="overallProgress" style="width: 0%;"></div>
                    </div>
                    <p id="assessmentScore" style="font-size: 2rem; font-weight: bold; color: #3498db;">0/100</p>
                </div>

                <div id="assessmentRecommendation" class="recommendation" style="display: none;">
                    <!-- Recommendations will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Calculator Functions
        function calculateDPLK() {
            const currentAge = parseInt(document.getElementById('currentAge').value);
            const retirementAge = parseInt(document.getElementById('retirementAge').value);
            const currentSalary = parseInt(document.getElementById('currentSalary').value);
            const monthlyContribution = parseInt(document.getElementById('monthlyContribution').value);
            const returnRate = parseFloat(document.getElementById('returnRate').value) / 100;

            if (!currentAge || !currentSalary || !monthlyContribution) {
                alert('Mohon lengkapi semua field!');
                return;
            }

            const investmentPeriod = retirementAge - currentAge;
            const totalContribution = monthlyContribution * 12 * investmentPeriod;
            
            // Calculate future value with compound interest
            const monthlyRate = returnRate / 12;
            const totalMonths = investmentPeriod * 12;
            const futureValue = monthlyContribution * (((1 + monthlyRate) ** totalMonths - 1) / monthlyRate);
            
            const investmentGain = futureValue - totalContribution;

            // Calculate TPP
            const currentTPP = 29; // Existing programs
            const monthlyPensionFromDPLK = futureValue * 0.075 / 12; // Assuming 7.5% withdrawal rate
            const additionalTPP = (monthlyPensionFromDPLK / currentSalary) * 100;
            const totalTPP = currentTPP + additionalTPP;
            const remainingGap = Math.max(0, 70 - totalTPP);

            // Update UI
            document.getElementById('investmentPeriod').textContent = investmentPeriod + ' tahun';
            document.getElementById('totalContribution').textContent = 'Rp ' + totalContribution.toLocaleString('id-ID');
            document.getElementById('investmentGain').textContent = 'Rp ' + investmentGain.toLocaleString('id-ID');
            document.getElementById('totalPension').textContent = 'Rp ' + futureValue.toLocaleString('id-ID');

            // Update gap visualization
            const dplkWidth = Math.min(41, additionalTPP);
            const stillNeededWidth = Math.max(0, 41 - additionalTPP);
            
            document.getElementById('gapDPLK').style.width = dplkWidth + '%';
            document.getElementById('gapDPLK').textContent = Math.round(additionalTPP) + '%';
            document.getElementById('gapStill').style.width = stillNeededWidth + '%';
            document.getElementById('gapStill').textContent = Math.round(remainingGap) + '%';

            document.getElementById('calculatorResults').style.display = 'block';
        }

        // Quiz Data
        const quizData = [
            {
                question: "Berapa persen TPP (Tingkat Penghasilan Pensiun) dari program existing di Indonesia?",
                options: ["15%", "29%", "45%", "60%"],
                correct: 1,
                explanation: "Program existing (BPJS + Pesangon) hanya memberikan TPP 29%"
            },
            {
                question: "Berapa gap yang harus ditutup untuk mencapai TPP ideal 70-80%?",
                options: ["20-30%", "41-51%", "60-70%", "80-90%"],
                correct: 1,
                explanation: "Gap yang harus ditutup adalah 41-51% dari program existing 29%"
            },
            {
                question: "Berapa usia harapan hidup di Indonesia saat ini?",
                options: ["65 tahun", "68 tahun", "72 tahun", "75 tahun"],
                correct: 2,
                explanation: "Usia harapan hidup di Indonesia adalah 72 tahun"
            },
            {
                question: "Berapa minimal iuran DPLK yang bisa dibayar per bulan?",
                options: ["Rp 50.000", "Rp 100.000", "Rp 150.000", "Rp 200.000"],
                correct: 2,
                explanation: "Minimal iuran DPLK adalah Rp 150.000 per bulan"
            },
            {
                question: "Siapa yang mengawasi DPLK di Indonesia?",
                options: ["Bank Indonesia", "Kementerian Keuangan", "OJK", "Kemenkeu"],
                correct: 2,
                explanation: "DPLK diawasi oleh Otoritas Jasa Keuangan (OJK)"
            }
        ];

        let currentQuizAnswers = [];

        function initializeQuiz() {
            const container = document.getElementById('quizQuestions');
            container.innerHTML = '';
            currentQuizAnswers = new Array(quizData.length).fill(null);

            quizData.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-card';
                questionDiv.innerHTML = `
                    <div class="question-title">Pertanyaan ${index + 1}: ${q.question}</div>
                    ${q.options.map((option, optIndex) => `
                        <div class="option" onclick="selectOption(${index}, ${optIndex})" data-question="${index}" data-option="${optIndex}">
                            ${String.fromCharCode(65 + optIndex)}. ${option}
                        </div>
                    `).join('')}
                `;
                container.appendChild(questionDiv);
            });

            document.getElementById('submitQuizBtn').style.display = 'block';
        }

        function selectOption(questionIndex, optionIndex) {
            // Clear previous selections for this question
            const questionCard = document.querySelectorAll(`[data-question="${questionIndex}"]`);
            questionCard.forEach(option => option.classList.remove('selected'));

            // Mark selected option
            event.target.classList.add('selected');
            currentQuizAnswers[questionIndex] = optionIndex;
        }

        function submitQuiz() {
            if (currentQuizAnswers.includes(null)) {
                alert('Mohon jawab semua pertanyaan!');
                return;
            }

            let score = 0;
            const container = document.getElementById('quizQuestions');
            
            // Show correct answers
            quizData.forEach((q, index) => {
                const options = container.querySelectorAll(`[data-question="${index}"]`);
                const userAnswer = currentQuizAnswers[index];
                
                options.forEach((option, optIndex) => {
                    option.style.pointerEvents = 'none';
                    
                    if (optIndex === q.correct) {
                        option.classList.add('correct');
                    } else if (optIndex === userAnswer && optIndex !== q.correct) {
                        option.classList.add('wrong');
                    }
                });

                if (userAnswer === q.correct) {
                    score++;
                }

                // Add explanation
                const explanation = document.createElement('div');
                explanation.style.marginTop = '15px';
                explanation.style.padding = '15px';
                explanation.style.background = '#e8f5e8';
                explanation.style.borderRadius = '8px';
                explanation.style.fontSize = '0.95rem';
                explanation.innerHTML = `<strong>ğŸ’¡ Penjelasan:</strong> ${q.explanation}`;
                options[0].parentElement.appendChild(explanation);
            });

            // Show results
            const percentage = Math.round((score / quizData.length) * 100);
            let message = '';
            let bgColor = '';

            if (percentage >= 80) {
                message = 'ğŸ† Luar biasa! Anda sangat paham tentang perencanaan pensiun!';
                bgColor = '#27ae60';
            } else if (percentage >= 60) {
                message = 'ğŸ‘ Bagus! Pengetahuan Anda cukup baik, tingkatkan terus!';
                bgColor = '#f39c12';
            } else {
                message = 'ğŸ“š Ayo belajar lebih banyak tentang perencanaan pensiun!';
                bgColor = '#e74c3c';
            }

            document.getElementById('quizResults').innerHTML = `
                <div class="score-container" style="background: ${bgColor};">
                    <h2>Skor Anda: ${score}/${quizData.length}</h2>
                    <p style="font-size: 1.8rem; margin: 10px 0;">${percentage}%</p>
                    <p style="font-size: 1.2rem;">${message}</p>
                    <button class="share-btn" onclick="shareQuizResults(${score}, ${quizData.length})" style="margin-top: 20px;">
                        ğŸ“± Share Skor Saya!
                    </button>
                </div>
            `;
            document.getElementById('quizResults').style.display = 'block';
            document.getElementById('submitQuizBtn').style.display = 'none';
        }

        // Assessment Functions
        function updateAssessment() {
            const selects = document.querySelectorAll('#assessment select');
            let totalScore = 0;
            let answeredQuestions = 0;

            selects.forEach(select => {
                if (select.value) {
                    totalScore += parseInt(select.value);
                    answeredQuestions++;
                }
            });

            if (answeredQuestions === 0) return;

            const averageScore = totalScore / selects.length;
            
            document.getElementById('overallProgress').style.width = averageScore + '%';
            document.getElementById('assessmentScore').textContent = Math.round(averageScore) + '/100';

            // Update progress color
            const progressBar = document.getElementById('overallProgress');
            if (averageScore >= 75) {
                progressBar.style.background = 'linear-gradient(45deg, #27ae60, #2ecc71)';
            } else if (averageScore >= 50) {
                progressBar.style.background = 'linear-gradient(45deg, #f39c12, #e67e22)';
            } else {
                progressBar.style.background = 'linear-gradient(45deg, #e74c3c, #c0392b)';
            }

            // Show recommendations
            showRecommendations(averageScore);
        }

        function showRecommendations(score) {
            const container = document.getElementById('assessmentRecommendation');
            let recommendations = '';

            if (score >= 75) {
                recommendations = `
                    <h3>ğŸ‰ Excellent! Anda sudah di jalur yang tepat!</h3>
                    <ul>
                        <li>âœ… Pertahankan konsistensi investasi</li>
                        <li>âœ… Pertimbangkan meningkatkan kontribusi DPLK</li>
                        <li>âœ… Review portfolio secara berkala</li>
                        <li>âœ… Tetap update dengan tren financial planning</li>
                    </ul>
                `;
            } else if (score >= 50) {
                recommendations = `
                    <h3>ğŸ‘ Good! Anda di jalur yang baik, tapi masih bisa ditingkatkan</h3>
                    <ul>
                        <li>ğŸ“ˆ Mulai atau tingkatkan investasi DPLK</li>
                        <li>ğŸ“š Pelajari lebih banyak tentang financial planning</li>
                        <li>ğŸ’° Tingkatkan dana darurat jika belum cukup</li>
                        <li>ğŸ›¡ï¸ Pertimbangkan asuransi tambahan</li>
                    </ul>
                `;
            } else {
                recommendations = `
                    <h3>ğŸš€ Saatnya Action! Mari mulai perjalanan financial planning Anda</h3>
                    <ul>
                        <li>ğŸƒâ€â™‚ï¸ PRIORITAS: Mulai DPLK sekarang juga!</li>
                        <li>ğŸ’¡ Ikuti edukasi financial planning</li>
                        <li>ğŸ’° Bangun dana darurat step by step</li>
                        <li>ğŸ“± Gunakan apps untuk tracking keuangan</li>
                        <li>ğŸ‘¥ Konsultasi dengan financial advisor</li>
                    </ul>
                `;
            }

            container.innerHTML = recommendations;
            container.style.display = 'block';
        }

        // Tab Functions
        function showTab(tabName) {
            // Hide all contents
            const contents = document.querySelectorAll('.content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected content and tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Initialize quiz if quiz tab is selected
            if (tabName === 'quiz') {
                initializeQuiz();
            }
        }

        // Share Functions
        function shareResults() {
            const text = `ğŸ¯ Hasil Simulasi DPLK saya:\n` +
                        `ğŸ’° Dana Pensiun: ${document.getElementById('totalPension').textContent}\n` +
                        `â±ï¸ Investasi: ${document.getElementById('investmentPeriod').textContent}\n\n` +
                        `Yuk planning masa pensiun dengan DPLK Bank Sulselbar! ğŸ¦`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Hasil Simulasi DPLK',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text);
                alert('Hasil berhasil disalin ke clipboard!');
            }
        }

        function shareQuizResults(score, total) {
            const percentage = Math.round((score / total) * 100);
            const text = `ğŸ¯ Skor Quiz Pensiun saya: ${score}/${total} (${percentage}%)\n\n` +
                        `Sudah tau belum seberapa siap pengetahuan pensiun kamu? ğŸ¤”\n` +
                        `Yuk test di DPLK Interactive Tool! ğŸ’ª`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Hasil Quiz Pensiun',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text);
                alert('Hasil berhasil disalin ke clipboard!');
            }
        }

        function downloadResults() {
            alert('Fitur download PDF akan segera tersedia! ğŸ“„');
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DPLK Interactive Tool Ready! ğŸš€');
        });
    </script>
</body>
</html>